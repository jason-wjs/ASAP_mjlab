# @package _global_

# Tuned configuration for MJLab with stable defaults for humanoid training.
# Select with: +simulator=mjlab_tuned

simulator:
  _target_: humanoidverse.simulator.mjlab.mjlab.MJLab
  _recursive_: False
  config:
    name: "mjlab"
    terrain: ${terrain}
    sim:
      # Base physics timing and solver settings
      fps: 500
      dt: 0.004            # 4 ms base step; combined with substeps below
      substeps: 5          # internal physics substeps per env step (dt*substeps=20 ms)
      solver_iterations: 50
      ls_iterations: 50
      # MuJoCo size headroom for humanoids
      njmax: 5000
      nconmax: 2000
      # Control rate: action step = control_decimation * dt
      control_decimation: 1
      render_mode: "human"
      nan_guard:
        enable: true
      viewer:
        mode: auto   # auto | viser | native | none
        render_interval: 1
    scene:
      num_envs: ${num_envs}
      env_spacing: ${env.config.env_spacing}

